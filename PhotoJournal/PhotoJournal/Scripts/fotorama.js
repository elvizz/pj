/*! Fotorama 2.0.3 (v1323) | http://fotoramajs.com/license.txt */
(function(e){function Ea(b){for(var a={},e=0;e<D.length;e++){var B=D[e][0],n=D[e][1];if(b){var j=b.attr("data-"+B);j&&("number"==n?(j=Number(j),isNaN(j)||(a[B]=j)):"boolean"==n?"true"==j?a[B]=!0:"false"==j&&(a[B]=!1):"string"==n?a[B]=j:"boolean-number"==n&&("true"==j?a[B]=!0:"false"==j?a[B]=!1:(j=Number(j),isNaN(j)||(a[B]=j))))}else a[B]=D[e][2]}return a}function qa(b,a){for(var e={},n=0;n<ra.length;n++)e[ra[n]+b]=a;return e}function sa(b,a){if(ta)return qa("transform",a?"translate(0,"+b+"px)":"translate("+
    b+"px,0)");var e={};e[a?"top":"left"]=b;return e}function ua(b){return qa("transition-duration",b+"ms")}function qb(){return!1}function Fa(b){b.mousemove(function(a){a.preventDefault()}).mousedown(function(a){a.preventDefault()})}function Pb(b){b.preventDefault();document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()}function Ta(f,a){function pb(c,d,b){c&&(va.no.test(c)||va.px.test(c)?(ja=k=Number((""+c).replace("px","")),
    $=ka=!1):va["%"].test(c)?(Ua=Number((""+c).replace("%",""))/100,ka=!a().flexible,k||(k=f.width()*(t?1:Ua)-(a().vertical&&C?C.width():0)),$=!1):$=!0);d&&(va.no.test(d)||va.px.test(d)?(wa=m=Number((""+d).replace("px","")),aa=!1):aa=!0);if("auto"==c||!c||"auto"==d||!d){var b=Number(b),o=u.filter(function(){return e(this).data("state")!="error"}).filter(":first").data("srcKey");if(isNaN(b)||!b)b=null,o&&(b=p[o].imgRatio);if(b){Ga=Ha=E=b;if(o){if("auto"==c||!c)ja=k=p[o].imgWidth,$=!0;if("auto"==d||!d)wa=
    m=p[o].imgHeight,aa=!0}aa&&(b&&!$)&&(wa=m=Math.round(k/b));!aa&&(b&&$)&&(ja=k=Math.round(m*b))}}}function B(c){var d;if(a().fitToWindowHeight||t)d=ba.height();if(!E||c)Ga=Ha=E=k/m;a().thumbs&&!I&&(I=a().vertical?C.width():C.height());E=sb?Ga:Ha;f.css({overflow:ka||t?"hidden":""});ka||t?k=f.width()*(t?1:Ua)-(a().vertical&&I?I:0):ja&&(k=ja);t?(m=d-(!a().vertical&&I?I:0),E=k/m):aa?m=Math.round(k/E):(m=wa,E=k/m);if(a().fitToWindowHeight&&!t&&m>d-20-(!a().vertical&&I?I:0))m=d-20-(!a().vertical&&I?I:0),
    E=k/m}function z(c,d,b){B(c);d||(d=0);var o=k!=qa||m!=ra||E!=tb;if(c||o){a().vertical?(r=m,Ia=k):(r=k,Ia=m);q.add(u).animate({width:k,height:m},d);a().thumbs&&a().vertical&&(a().thumbsOnRight?C.animate({left:k},d):q.animate({left:I},d));a().touchStyle?(Va=(r+a().margin)*v-a().margin,ub=Ia,c={},c[O]=Va,c[W]=ub,G.animate(c,d).data(c).data({minPos:-(Va-r),maxPos:0})):G.animate({width:k,height:m},d);a().thumbs&&(a().vertical?C.animate({height:m},d):C.animate({width:k},d),a().thumbsPreview&&o&&vb(d,b),
    C.css({visibility:"visible"}));Wa&&!a().vertical&&(a().arrows&&ca.animate({top:m/2},d),c={},c[Ja]=Ia/2,S.animate(c,d));if("loading"==D||"error"==D)c={},c[J]=(a().touchStyle?x:0)*(r+a().margin)+r/2,S.animate(c,d);K&&a().touchStyle&&(b=-x*(r+a().margin),X(G,b,0));wb=!0;var g=0;e(Xa).each(function(){clearTimeout(this)});Xa=[];T(K,x,d);u.each(function(a){if(a!=x){var c=e(this);c.data("img")&&c.data("img").css({visibility:"hidden"});var d=setTimeout(function(){T(c,a)},g*50+50);Xa.push(d);g++}})}qa=k;ra=
    m;tb=E}function j(){var c=K.data("srcKey");c&&(p[c].imgWidth&&p[c].imgHeight&&p[c].imgRatio)&&(ja=k=p[c].imgWidth,wa=m=p[c].imgHeight,Ha=E=p[c].imgRatio,z(!1,a().transitionDuration))}function Y(c,d,rb){function o(){a().touchStyle||(d=0);S.css(J,d*(r+a().margin)+r/2);xb=setTimeout(function(){S.stop().show().fadeTo(0,1)},100)}clearTimeout(xb);"loading"==c?(o(),f.addClass(b+"_loading").removeClass(b+"_error"),Ya||S.html("<span>&middot;&middot;&middot;</span>").css({backgroundImage:"none"})):"error"==
    c?(o(),f.addClass(b+"_error").removeClass(b+"_loading"),Ya||S.html("<span>?</span>").css({backgroundImage:"none"})):"loaded"==c&&(f.removeClass(b+"_loading "+b+"_error"),S.stop().fadeTo(Math.min(P,rb),0,function(){S.hide()}));D=c}function da(){return{index:x,src:p[x],img:K[0],thumb:a().thumbs?ea[0]:null,caption:Za}}function X(c,d,b,o){var g=isNaN(d)?0:Math.round(d);clearTimeout(c.data("backAnimate"));o?(g=o,c.data({backAnimate:setTimeout(function(){X(c,d,Math.max(P,b/2))},b)})):a().onSlideStop&&setTimeout(function(){a().onSlideStop.call(f[0],
    da())},b);b&&(clearTimeout(yb),Ka=!0);ta?(c.css(ua(b)),setTimeout(function(){c.css(sa(g,a().vertical))},1)):c.stop().animate(sa(g,a().vertical),b,$a);yb=setTimeout(function(){Ka=false;a().flexible&&c==G&&j()},b)}function la(c,d,b){if(L){if(!b||L<r)La=!1;var o=ea.position()[J],b=ea.data()[O];if(!b&&Ma)fa.hide(),Ma=!1;else{Ma||(fa.show(),Ma=!0);if(L>r){var g=o+b/2,e=r/2,f=M.index(ea),h=f-zb;void 0==U&&(U=s.position()[J]);if(ab&&d&&d>Math.max(36,2*a().thumbMargin)&&d<r-Math.max(36,2*a().thumbMargin)&&
    (0<h&&d>0.75*e||0>h&&d<1.25*e)){var A;A=0<h?f+1:f-1;0>A?A=0:A>v-1&&(A=v-1);f!=A&&(g=M.eq(A),g=g.position()[J]+g.data()[O]/2,e=d)}d=-(L-r);g=Math.round(-(g-e)+a().thumbMargin);if(0<h&&g>U||0>h&&g<U)g=o+U<a().thumbMargin?-(o-a().thumbMargin):o+U+b>r?-(2*o-r+b+a().thumbMargin):U;g<=d?g=d:g>=a().thumbMargin&&(g=a().thumbMargin);s.data({minPos:d});l(g);ga||s.data({maxPos:a().thumbMargin})}else g=r/2-L/2,s.data({minPos:g}),ga||s.data({maxPos:g});!La&&!ga?(X(s,g,c),Na&&(La=!0),U=g):Na=!0;var k=b-(Ab?0:2*
    a().thumbBorderWidth);ta?(fa.css(ua(c)),setTimeout(function(){fa.css(sa(o,a().vertical)).css(O,k)},1)):a().vertical?fa.stop().animate({top:o,height:k},c,$a):fa.stop().animate({left:o,width:k},c,$a)}}}function l(c){a().shadows&&L>r&&(C.addClass(b+"__thumbs_shadow"),c<=s.data("minPos")?C.removeClass(b+"__thumbs_shadow_no-left").addClass(b+"__thumbs_shadow_no-right"):c>=a().thumbMargin?C.removeClass(b+"__thumbs_shadow_no-right").addClass(b+"__thumbs_shadow_no-left"):C.removeClass(b+"__thumbs_shadow_no-left "+
    b+"__thumbs_shadow_no-right"))}function vb(a,d){if(!ma&&!ga&&!xa&&!Ka||d)t||l(),la(a?a:0,!1,!d)}function T(c,d,b){var o=c.data("img"),g=c.data("detached"),b=b?b:0;if(o&&!g){var e=c.data("srcKey"),g=p[e].imgWidth,f=p[e].imgHeight,h=p[e].imgRatio,A=e=0;a().touchStyle&&c.css(J,d*(r+a().margin));if(g!=k||f!=m||a().alwaysPadding||t){var j=0;if(0.99>h/E||1.01<h/E||a().alwaysPadding||t)j=2*a().minPadding;h>=E?a().cropToFit?(f=m,g=Math.round(f*h)):(g=Math.round(k-j)<g||a().zoomToFit||t&&p[d].imgRel?Math.round(k-
    j):g,f=Math.round(g/h),4>m-f&&(f+=m-f)):a().cropToFit?(g=k,f=Math.round(g/h)):(f=Math.round(m-j)<f||a().zoomToFit||t&&p[d].imgRel?Math.round(m-j):f,g=Math.round(f*h),4>k-g&&(g+=k-g))}g&&f&&(h={width:g,height:f},f!=m&&(e=Math.round((m-f)/2)),g!=k&&(A=Math.round((k-g)/2)),h.top=e,h.left=A,o.animate(h,b));o.css({visibility:"visible"});b=c.data("img");o=c.data("srcKey");d=p[d].imgRel;if(b&&(d&&d!=o&&!ya)&&(g=b.data("full"),c=c.data("detached"),(t&&!g||!t&&g)&&!c))b[0].src=t?d:o,b.data({full:t})}else o&&
    g&&c.data({needToResize:!0})}function y(c,d,f,o){function g(e){function m(){j.css({visibility:"hidden"});k.src=e;0==A&&(j.appendTo(d),"thumb"==o&&(L+=F+a().thumbMargin,s.css(O,L).data(O,L),d.css(O,F).data(O,F)))}function n(){na[e]="loaded";j.unbind("error load").error(function(){j[0].src=e;p[c].imgRel=!1;T(u.eq(c),c);j.unbind("error")});d.trigger("load."+b).data({state:"loaded"});setTimeout(function(){p[e]||(p[e]=[],p[e].imgWidth=j.width(),p[e].imgHeight=j.height(),p[e].imgRatio=p[e].imgWidth/p[e].imgHeight);
  f(k,p[e].imgWidth,p[e].imgHeight,p[e].imgRatio,e,c)},100);"thumb"==o&&(Oa++,Oa==v&&(ab=!0))}function N(a){na[e]="error";j.unbind("error load");A<h.length&&a?(A++,g(h[A])):(d.trigger("error."+b).data({state:"error"}),"thumb"==o&&(Oa++,Oa==v&&(ab=!0)))}if(na[e]){var r=function(){"error"==na[e]?N(!1):"loaded"==na[e]?n():setTimeout(r,100)};m();r()}else na[e]="loading",j.unbind("error load").error(function(){N(!0)}).load(n),m()}u.eq(c);var k=new Image,j=e(k),h=[],A=0,m=p[c].imgHref,N=p[c].imgSrc,n=p[c].thumbSrc;
  if("img"==o){if(m&&(h.push(m),h.push(m+"?"+oa)),N&&(h.push(N),h.push(N+"?"+oa)),n)h.push(n),h.push(n+"?"+oa)}else if(n&&(h.push(n),h.push(n+"?"+oa)),N&&(h.push(N),h.push(N+"?"+oa)),m)h.push(m),h.push(m+"?"+oa);g(h[A])}function bb(c,d){if(c.data("wraped"))a().detachSiblings&&c.data("detached")&&(c.data({detached:!1}).appendTo(G),c.data("needToResize")&&(T(c,d),c.data({needToResize:!1})));else if(G.append(c.data({state:"loading"})),d!=x&&!a().touchStyle&&c.stop().fadeTo(0,0),c.data({wraped:!0,detached:!1}),
    y(d,c,function(f,g,j,rb,h){f=e(f);f.addClass(b+"__img");c.data({img:f,srcKey:h});h=!1;if((!k||!m)&&!wb||!cb&&d==a().startImg)k=g,a().width=g,aa?(m=j,a().height=j):$&&(k=Math.round(m*(g/j)),a().width=k),h=!0,cb=d==a().startImg;h||a().flexible?z(!0):T(c,d);c.css({visibility:"visible"})},"img"),db&&Q[d].html&&Q[d].html.length||a().html&&a().html[d]&&a().html[d].length){var f=Q[d].html||a().html[d];c.append(f)}}function w(c,d){var b=0,f=!1,g=[],j=[],m=t?Math.min(1,a().preload):a().preload;for(i=0;i<2*
    m+1;i++){var h=d-m+i;if(0<=h&&h<v&&!a().loop||a().loop){0>h&&(h=v+h);h>v-1&&(h-=v);if(!u.eq(h).data("wraped")||u.eq(h).data("detached"))b++,g.push(h);j.push(h)}else f=!0}if(b>=m||f)e(g).each(function(a){setTimeout(function(){bb(u.eq(g[a]),g[a])},50*a)}),a().detachSiblings&&u.filter(function(a){for(var c=e(this),b=!1,g=0;g<j.length&&!b;g++)j[g]==a&&(b=!0);return"loading"!=c.data("state")&&!b&&d!=a}).data({detached:!0}).detach()}function V(c){c||(c=0);clearTimeout(Bb);Bb=setTimeout(function(){pa&&f.trigger("showimg",
    [x+1,!1,!0])},Math.max(a().autoplay,2*c))}function Z(c,d,m,o,g,k,n){function h(){a().caption&&((Za=Q[l].caption?Q[l].caption:Q[l].title)?ha.html(Za).show():ha.html("").hide())}function A(){if(a().shadows||!a().touchStyle)p.removeClass(b+"__frame_active"),c.addClass(b+"__frame_active")}var p,N,q,l=u.index(c);u.each(function(){e(this).unbind("load."+b+" error."+b)});"number"!=typeof g&&(g=o?0:a().transitionDuration);!o&&(d&&d.altKey)&&(g*=10);d=c.data("state");"loading"==d||!d?(Y("loading",l,g),c.one("load."+
    b,function(){Y("loaded",l,g);h()}),c.one("error."+b,function(){Y("error",l,g);h()})):"error"==d?Y("error",l,g):d!=D&&Y("loaded",l,0);h();K?(p=K,q=x,a().thumbs&&(N=ea)):(p=u.not(c),a().thumbs&&(N=M.not(M.eq(l))));a().thumbs&&(ea=M.eq(l),q&&(zb=q),N.removeClass(b+"__thumb_selected").data("disabled",!1),ea.addClass(b+"__thumb_selected").data("disabled",!0));a().thumbs&&(a().thumbsPreview&&(q!=l||o))&&la(g,m);if(a().touchStyle)m=-l*(r+a().margin),A(),X(G,m,g,k);else{var s=function(d){if(q!=l||o){var b=
    g,e=0;if(d){b=0;e=g}u.not(p.stop()).stop().fadeTo(0,0);setTimeout(function(){A();c.stop().fadeTo(b,1,function(){p.not(c).stop().fadeTo(e,0,function(){a().flexible&&j()})})},10)}};"loaded"==d?s():"error"==d?s(!0):(c.one("load."+b,function(){s()}),c.one("error."+b,function(){s(true)}))}K=c;x=l;a().hash&&document.location.replace("#"+(x+1));pa&&(!n&&a().stopAutoplayOnAction)&&(pa=!1);V(g);var t=da();f.data(t);a().arrows&&((0==x||2>v)&&!a().loop?za.addClass(b+"__arr_disabled").data("disabled",!0):za.removeClass(b+
    "__arr_disabled").data("disabled",!1),(x==v-1||2>v)&&!a().loop?Aa.addClass(b+"__arr_disabled").data("disabled",!0):Aa.removeClass(b+"__arr_disabled").data("disabled",!1));var H=c.data("wraped");clearTimeout(Cb);Cb=setTimeout(function(){if(!H&&l!=a().startImg){bb(c,l);a().onShowImg&&a().onShowImg.call(f[0],t,n)}w(c,l)},g+10);if(H||l==a().startImg)bb(c,l),a().onShowImg&&a().onShowImg.call(f[0],t,n)}function H(c,d){d.stopPropagation();d.preventDefault();var b=x+c;0>b&&(b=a().loop?v-1:0);b>v-1&&(b=a().loop?
    0:v-1);Z(u.eq(b),d)}function Db(){clearTimeout(Eb);Eb=setTimeout(function(){z()},50)}function Fb(){Gb||(ba.bind("resize",Db),n&&window.addEventListener("orientationchange",Db,!1),Gb=!0)}f.data({ini:!0,options:a});a=function(){return f.data("options")};a().backgroundColor&&!a().background&&(a().background=a().backgroundColor);a().thumbsBackgroundColor&&!a().navBackground&&(a().navBackground=a().thumbsBackgroundColor);a().thumbColor&&!a().dotColor&&(a().dotColor=a().thumbColor);null!==a().click&&(a().pseudoClick=
    a().click);if(!0===a().nav||"true"==a().nav||"thumbs"==a().nav)a().thumbs=!0,a().thumbsPreview=!0;else if("dots"==a().nav)a().thumbs=!0,a().thumbsPreview=!1;else if(!1===a().nav||"false"==a().nav||"none"==a().nav)a().thumbs=!1;a().caption&&(!0===a().caption||"true"==a().caption||"simple"==a().caption?a().caption=!0:"overlay"!=a().caption&&(a().caption=!1));"top"==a().navPosition?(a().thumbsOnTop=!0,a().thumbsOnRight=!1):"right"==a().navPosition?(a().thumbsOnTop=!1,a().thumbsOnRight=!0):"bottom"==
    a().navPosition?(a().thumbsOnTop=!1,a().thumbsOnRight=!1):"left"==a().navPosition&&(a().thumbsOnTop=!1,a().thumbsOnRight=!1);var D,oa=(new Date).getTime();a().hash&&document.location.hash&&(a().startImg=parseInt(document.location.hash.replace("#",""))-1);var Q,db=a().data&&("object"==typeof a().data||"string"==typeof a().data);Q=db?e(a().data).filter(function(){return this.img||this.href||this.length}):f.children().filter(function(){var a=e(this);return(a.is("a")&&a.children("img").size()||a.is("img"))&&
    (a.attr("href")||a.attr("src")||a.children().attr("src"))});var v=Q.size();f.data({size:v});a().preload=Math.min(a().preload,v);if(a().startImg>v-1||"number"!=typeof a().startImg)a().startImg=0;var p=[];Q.each(function(c){if(db)p[c]={imgHref:this.img?this.img:this.href?this.href:this.length?""+this:null,thumbSrc:this.thumb,imgRel:this.full};else{var d=e(this);p[c]={imgHref:d.attr("href"),imgSrc:d.attr("src"),thumbSrc:d.children().attr("src"),imgRel:d.attr("rel")?d.attr("rel"):d.children().attr("rel")};
  if(a().caption)this.caption=d.attr("alt")||d.children().attr("alt")}});f.html("").addClass(b+" "+(a().vertical?b+"_vertical":b+"_horizontal"));if(eb||ya)var Ea=f.wrap('<div class="fotorama-outer"></div>').parent();a().arrows||(a().loop=!0);var na=[],r,Ia,k,m,ja,wa,Ua=1,aa=!0,$=!0,ka,va={no:/^[0-9.]+$/,px:/^[0-9.]+px/,"%":/^[0-9.]+%/},E,Ha,Ga,qa,ra,tb,wb,cb,sb,t,Gb,Ka,yb,Hb,Ib,Cb,pa,Bb;if(!0===a().autoplay||"true"==a().autoplay||0<a().autoplay)pa=!0;"number"!=typeof a().autoplay&&(a().autoplay=5E3);
  if(a().touchStyle)var Va=0,ub,Ba=!1,xa=!1,Jb;if(a().thumbs&&a().thumbsPreview)var ga=!1,La=!1,Na=!1,ma=!1,Kb,ab=!1,Oa=0;var J,Ja,R,Pa,O,W;a().vertical?(J="top",Ja="left",R="pageY",Pa="pageX",O="height",W="width"):(J="left",Ja="top",R="pageX",Pa="pageY",O="width",W="height");var q=e('<div class="'+b+'__wrap"></div>').appendTo(f),G=e('<div class="'+b+'__shaft"></div>').appendTo(q);a().touchStyle||(Fa(q),Fa(G));var S=e('<div class="'+b+'__state"></div>').appendTo(G);("white"==a().preloader||a().background&&
      a().background.match(/(white|#fff|#FFF)/))&&S.addClass(b+"__state_white");var xb;if(a().fullscreenIcon)var ia=e('<div class="'+b+'__fsi"><i class="i1"><i class="i1"></i></i><i class="i2"><i class="i2"></i></i><i class="i3"><i class="i3"></i></i><i class="i4"><i class="i4"></i></i><i class="i0"></i></div>').appendTo(q);n&&f.addClass(b+"_touch");ya&&(a().shadows=!1);a().touchStyle?(q.addClass(b+"__wrap_style_touch"),a().shadows&&q.append('<i class="'+b+"__shadow "+b+'__shadow_prev"></i><i class="'+
      b+"__shadow "+b+'__shadow_next"></i>')):q.addClass(b+"__wrap_style_fade");a().shadows&&f.addClass(b+"_shadows");ta&&f.addClass(b+"_csstransitions");if(a().arrows){var fb,gb;a().vertical?(fb=a().arrowPrev?a().arrowPrev:"&#9650;",gb=a().arrowNext?a().arrowNext:"&#9660;"):(fb=a().arrowPrev?a().arrowPrev:"&#9668;",gb=a().arrowNext?a().arrowNext:"&#9658;");var ca=e('<i class="'+b+"__arr "+b+'__arr_prev">'+fb+'</i><i class="'+b+"__arr "+b+'__arr_next">'+gb+"</i>").appendTo(q),za=ca.eq(0),Aa=ca.eq(1);Fa(ca);
    if(!n&&a().pseudoClick){var Lb,Mb,Ta=function(){clearTimeout(Mb);Mb=setTimeout(function(){var c=Lb>=r/2;Aa[!c?"removeClass":"addClass"](b+"__arr_hover");za[c?"removeClass":"addClass"](b+"__arr_hover");a().touchStyle||G.css({cursor:c&&Aa.data("disabled")||!c&&za.data("disabled")?"default":"pointer"})},10)};q.mousemove(function(a){Lb=a[R]-q.offset()[J];Ta()})}}else!a().touchStyle&&(a().pseudoClick&&1<v)&&G.css({cursor:"pointer"});if(!n){var hb=!1,ib,ob=function(){hb=true;clearTimeout(ib);a().arrows&&
  ca.css(ua(0));q.removeClass(b+"__wrap_mouseout");setTimeout(function(){a().arrows&&ca.css(ua(a().transitionDuration));setTimeout(function(){q.addClass(b+"__wrap_mouseover")},1)},1)},Nb=function(){clearTimeout(ib);ib=setTimeout(function(){!Ba&&!hb&&q.removeClass(b+"__wrap_mouseover").addClass(b+"__wrap_mouseout")},a().transitionDuration*3)};q.mouseenter(function(){ob()});q.mouseleave(function(){hb=false;Nb()})}var K,x,Za,u=e();Q.each(function(){var a=e('<div class="'+b+'__frame" style="visibility: hidden;"></div>');
    u=u.add(a)});if(a().thumbs){var F=Number(a().thumbSize);if(isNaN(F)||!F)F=a().vertical?64:48;var ea,zb=0,C=e('<div class="'+b+'__thumbs" style="visibility: hidden;"></div>')[a().thumbsOnTop?"prependTo":"appendTo"](f);a().touchStyle||Fa(C);var I;a().thumbsPreview&&(I=F+2*a().thumbMargin,C.addClass(b+"__thumbs_previews").css(W,I));var s=e('<div class="'+b+'__thumbs-shaft"></div>').appendTo(C);if(a().thumbsPreview){var L=0,U=void 0;a().shadows&&e('<i class="'+b+"__shadow "+b+'__shadow_prev"></i><i class="'+
      b+"__shadow "+b+'__shadow_next"></i>').appendTo(C);var Qb=F-(Ab?0:2*a().thumbBorderWidth),Rb=a().thumbMargin,Qa={};Qa[W]=Qb;Qa[Ja]=Rb;Qa.borderWidth=a().thumbBorderWidth;var fa=e('<i class="'+b+'__thumb-border"></i>').css(Qa).appendTo(s),Ma}Q.each(function(){var c;if(a().thumbsPreview){c=e('<div class="'+b+'__thumb"></div>');var d={};d[W]=F;d.margin=a().thumbMargin;c.css(d)}else c=e('<i class="'+b+'__thumb"><i class="'+b+'__thumb__dot"></i></i>');c.appendTo(s)});var M=e("."+b+"__thumb",f);if(a().thumbsPreview)var Sb=
      function(c,d,f,o,g,j){d=e(c);o=a().vertical?Math.round(F/o):Math.round(F*o);if(Ra.canvas){d.remove();d=e('<canvas class="'+b+'__thumb__img"></canvas>');d.appendTo(M.eq(j))}else d.addClass(b+"__thumb__img");f={};f[O]=o;f[W]=F;d.attr(f).css(f).css({visibility:"visible"});if(Ra.canvas){d[0].getContext("2d");d[0].getContext("2d").drawImage(c,0,0,a().vertical?F:o,a().vertical?o:F)}L=L+(o+a().thumbMargin-(F+a().thumbMargin));s.css(O,L);f[W]=null;M.eq(j).css(f).data(f);vb()},jb=function(a){if(!ma&&!ga&&
      !xa&&!Ka){a||(a=0);y(a,M.eq(a),Sb,"thumb");setTimeout(function(){a+1<v&&jb(a+1)},50)}else setTimeout(function(){jb(a)},100)}}if(a().caption){var ha=e('<p class="'+b+'__caption"></p>');if("overlay"==a().caption)ha.appendTo(q).addClass(b+"__caption_overlay");else{ha.appendTo(f);var Tb=ha.wrap('<div class="'+b+'__caption-outer"></div>').parent()}}pb(a().width,a().height,a().aspectRatio);var Xa=[];Z(u.eq(a().startImg),!1,!1,!0,!1,!1,!0);k&&m&&(cb=!0,z());a().thumbs&&a().thumbsPreview&&jb(0);a().thumbs&&
  (a().dotColor&&!a().thumbsPreview&&M.children().css({backgroundColor:a().dotColor}),a().navBackground&&C.css({background:a().navBackground}),a().thumbsPreview&&a().thumbBorderColor&&fa.css({borderColor:a().thumbBorderColor}));a().background&&q.add(u).css({background:a().background});a().arrowsColor&&a().arrows&&ca.css({color:a().arrowsColor});var Eb=!1;Fb();f.bind("dblclick",Pb);f.bind("showimg",function(c,d,b,f){if(typeof d!="number")if(d=="next")d=x+1;else if(d=="prev")d=x-1;else if(d=="first")d=
      0;else if(d=="last")d=v-1;else{d=x;f=true}d>v-1&&(d=0);(!a().touchStyle||!xa)&&Z(u.eq(d),c,false,false,b,false,f)});f.bind("play",function(c,d){pa=true;d=Number(d);if(!isNaN(d))a().autoplay=d;V(P)});f.bind("pause",function(){pa=false});f.bind("rescale",function(a,d,b,f,g){pb(d,b,f);Ga=E=k/m;sb=!ka;g=Number(g);isNaN(g)&&(g=0);z(false,g)});f.bind("fullscreenopen",function(){Hb=ba.scrollTop();Ib=ba.scrollLeft();t=true;ia&&ia.trigger("mouseleave",true);ba.scrollTop(0);kb.add(Sa).addClass("fullscreen");
    f.addClass(b+"_fullscreen");(eb||ya)&&f.appendTo(Sa).addClass(b+"_fullscreen_quirks");a().caption&&!a().caption!="overlay"&&ha.appendTo(q);Fb();K&&Z(K,false,false,true,0,false,true);z(false,false,true)});f.bind("fullscreenclose",function(){t=false;ia&&ia.trigger("mouseleave",true);kb.add(Sa).removeClass("fullscreen");f.removeClass(b+"_fullscreen");(eb||ya)&&f.appendTo(Ea).removeClass(b+"_fullscreen_quirks");a().caption&&!a().caption!="overlay"&&ha.appendTo(Tb);ba.scrollTop(Hb);ba.scrollLeft(Ib);if(!ka){k=
      a().width;m=a().height}K&&Z(K,false,false,true,0,false,true);a().flexible?j():z(false,false,true)});Ca.bind("keydown",function(c){t&&(c.keyCode==27&&!a().fullscreen?f.trigger("fullscreenclose"):c.keyCode==39||c.keyCode==40?f.trigger("showimg",x+1):(c.keyCode==37||c.keyCode==38)&&f.trigger("showimg",x-1))});if(a().thumbs){var lb=function(a){a.stopPropagation();if(!e(this).data("disabled")){var d=M.index(e(this)),b=a[R]-C.offset()[J];Z(u.eq(d),a,b)}};M.bind("click",lb)}a().arrows&&(za.bind("click",
      function(a){e(this).data("disabled")||H(-1,a)}),Aa.bind("click",function(a){e(this).data("disabled")||H(1,a)}));!a().touchStyle&&(!n&&a().pseudoClick)&&q.bind("click",function(c){var b=c[R]-q.offset()[J]>=r/2;if(a().onClick)var e=a().onClick.call(f[0],da());e!==false&&(!c.shiftKey&&b&&a().arrows||c.shiftKey&&!b&&a().arrows||!a().arrows&&!c.shiftKey?H(1,c):H(-1,c))});ia&&ia.bind("click",function(a){a.stopPropagation();f.trigger(t?"fullscreenclose":"fullscreenopen")}).bind("mouseenter mouseleave",function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   d){d&&a.stopPropagation();ia[a.type=="mouseenter"?"addClass":"removeClass"](b+"__fsi_hover")});a().fullscreen&&f.trigger("fullscreenopen");if(a().touchStyle||n||a().thumbs&&a().thumbsPreview)var Ob=function(c,b,f,e){function g(f){if((n||f.which<2)&&K){var g=function(){s=(new Date).getTime();p=l;q=k;w=[[s,l]];clearTimeout(c.data("backAnimate"));ta?c.css(ua(0)):c.stop();h=c.position()[J];c.css(sa(h,a().vertical));r=h;b()};if(n)if(n&&f.targetTouches.length==1){l=f.targetTouches[0][R];k=f.targetTouches[0][Pa];
    g();c[0].addEventListener("touchmove",j,false);c[0].addEventListener("touchend",m,false)}else{if(n&&f.targetTouches.length>1)return false}else{l=f[R];f.preventDefault();g();Ca.mousemove(j);Ca.mouseup(m)}}}function j(b){function d(){b.preventDefault();t=(new Date).getTime();w.push([t,l]);var g=p-l;h=r-g;if(h>c.data("maxPos")){h=Math.round(h+(c.data("maxPos")-h)/1.5);B="left"}else if(h<c.data("minPos")){h=Math.round(h+(c.data("minPos")-h)/1.5);B="right"}else B=false;a().touchStyle&&c.css(sa(h,a().vertical));
    f(h,g,B)}if(n){if(n&&b.targetTouches.length==1){l=b.targetTouches[0][R];k=b.targetTouches[0][Pa];if(x)u===true&&d();else if(Math.abs(l-p)-Math.abs(k-q)>=-5){u=true;b.preventDefault();x=true}else if(Math.abs(k-q)-Math.abs(l-p)>=-5){u="prevent";x=true}}}else{l=b[R];d()}}function m(a){if(!n||!a.targetTouches.length){if(n){c[0].removeEventListener("touchmove",j,false);c[0].removeEventListener("touchend",m,false)}else{Ca.unbind("mouseup");Ca.unbind("mousemove")}V=(new Date).getTime();var b=-h,d=V-Da,f,
      g,k,p;for(i=0;i<w.length;i++){f=Math.abs(d-w[i][0]);if(i==0){g=f;k=V-w[i][0];p=w[i][1]}if(f<=g){g=f;k=w[i][0];p=w[i][1]}}d=p-l;f=d>=0;k=V-k;e(b,k,k<=Da,V-H,f===v,d,a,u);H=V;v=f;x=u=false}}var h,l,k,p,q,r,s,w=[],t,v,V,H=0,u=false,x=false,B=false;n?c[0].addEventListener("touchstart",g,false):c.mousedown(g)};if(a().touchStyle||n){var mb=!1;Ob(G,function(){xa=true},function(c,d,f){clearTimeout(Jb);if(!Ba){a().shadows&&q.addClass(b+"__wrap_shadow");n||G.addClass(b+"__shaft_grabbing");Ba=true}if(a().shadows)if(f){c=
      f=="left"?"right":"left";q.addClass(b+"__wrap_shadow_no-"+f).removeClass(b+"__wrap_shadow_no-"+c)}else a().shadows&&q.removeClass(b+"__wrap_shadow_no-left "+b+"__wrap_shadow_no-right");if(Math.abs(d)>=5&&!mb){mb=true;e("a",q).bind("click",qb)}},function(c,d,j,o,g,k,l,h){xa=false;Jb=setTimeout(function(){!n&&a().arrows&&Nb();mb=false;e("a",q).unbind("click",qb)},Da);n||G.removeClass(b+"__shaft_grabbing");a().shadows&&q.removeClass(b+"__wrap_shadow");var g=o=false,m,p;if(a().html){m=e(l.target);p=m.filter("a");
    p.length||(p=m.parents("a"))}if(a().touchStyle)if(Ba){j&&(k<=-10?o=true:k>=10&&(g=true));j=P;h=Math.round(c/(r+a().margin));if(o||g){var d=-k/d,k=Math.round(-c+d*250),w;if(o){h=Math.ceil(c/(r+a().margin))-1;c=-h*(r+a().margin);if(k>c){w=Math.abs(k-c);j=Math.abs(j/(d*250/(Math.abs(d*250)-w*0.97)));w=c+w*0.03}}else if(g){h=Math.floor(c/(r+a().margin))+1;c=-h*(r+a().margin);if(k<c){w=Math.abs(k-c);j=Math.abs(j/(d*250/(Math.abs(d*250)-w*0.97)));w=c-w*0.03}}}if(h<0){h=0;w=false;j=P}if(h>v-1){h=v-1;w=false;
    j=P}Z(u.eq(h),l,false,false,j,w)}else{if(a().html&&p.length)return false;if(a().onClick&&h!="prevent")var s=a().onClick.call(f[0],da());if(s!==false&&a().pseudoClick&&!n&&d<Da){w=l[R]-q.offset()[J]>=r/2;!l.shiftKey&&w&&a().arrows||l.shiftKey&&!w&&a().arrows||!a().arrows&&!l.shiftKey?H(1,l):H(-1,l)}else Z(K,l,false,false,false,false,true)}else{if(k==0&&a().html&&p.length)return false;k>=0?H(1,l):k<0&&H(-1,l)}Ba=false});if(a().touchStyle&&a().thumbs&&a().thumbsPreview){var nb=!1;Ob(s,function(){La=
      ga=true},function(a,b){if(!ma&&Math.abs(b)>=5){M.unbind("click",lb);nb=true;clearTimeout(Kb);ma=true}l(a)},function(a,b,f,e,g,j,k){ma=ga=false;Kb=setTimeout(function(){if(nb){M.bind("click",lb);nb=false}},Da);var e=a=-a,h,g=P*2;if(Na&&ma){la(0,false,false);Na=false}if(a>s.data("maxPos")){e=s.data("maxPos");g=g/2}else if(a<s.data("minPos")){e=s.data("minPos");g=g/2}else if(f){b=-j/b;e=Math.round(a+b*250);if(e>s.data("maxPos")){h=Math.abs(e-s.data("maxPos"));g=Math.abs(g/(b*250/(Math.abs(b*250)-h*0.96)));
    e=s.data("maxPos");h=e+h*0.04}else if(e<s.data("minPos")){h=Math.abs(e-s.data("minPos"));g=Math.abs(g/(b*250/(Math.abs(b*250)-h*0.96)));e=s.data("minPos");h=e-h*0.04}}k.altKey&&(g=g*10);U=e;if(e!=a){X(s,e,g,h);l(e)}})}}}var Ra=function(b,a,e){function n(a,b){for(var f in a)if(Y[a[f]]!==e)return"pfx"==b?a[f]:!0;return!1}function z(a,b,f){var j=a.charAt(0).toUpperCase()+a.substr(1),l=(a+" "+da.join(j+" ")+j).split(" ");if("string"===typeof b||"undefined"===typeof b)b=n(l,b);else{l=(a+" "+X.join(j+" ")+
    j).split(" ");a:{var a=l,z;for(z in a)if(j=b[a[z]],j!==e){b=!1===f?a[z]:"function"===typeof j?j.bind(f||b):j;break a}b=!1}}return b}var b={},j=a.createElement("modernizr"),Y=j.style,da=["Webkit","Moz","O","ms"],X=["webkit","moz","o","ms"],j={},la=[],l=la.slice,y,T={}.hasOwnProperty,D;"undefined"!==typeof T&&"undefined"!==typeof T.call?D=function(a,b){return T.call(a,b)}:D=function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]};Function.prototype.bind||(Function.prototype.bind=
    function(a){var b=this;if("function"!=typeof b)throw new TypeError;var f=l.call(arguments,1),e=function(){if(this instanceof e){var j=function(){};j.prototype=b.prototype;var j=new j,n=b.apply(j,f.concat(l.call(arguments)));return Object(n)===n?n:j}return b.apply(a,f.concat(l.call(arguments)))};return e});j.canvas=function(){var b=a.createElement("canvas");return!!b.getContext&&!!b.getContext("2d")};j.csstransforms=function(){return!!z("transform")};j.csstransitions=function(){return z("transition")};
  for(var P in j)D(j,P)&&(y=P.toLowerCase(),b[y]=j[P](),la.push((b[y]?"":"no-")+y));Y.cssText="";return j=null,b._version="2.5.3",b._domPrefixes=X,b._cssomPrefixes=da,b.testProp=function(a){return n([a])},b.testAllProps=z,b}(this,this.document);e.extend({bez:function(b){var a="bez_"+e.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof e.easing[a]){var n=function(a,b){var f=[null,null],e=[null,null],n=[null,null],y=function(y,l){return n[l]=3*a[l],e[l]=3*(b[l]-a[l])-n[l],f[l]=1-n[l]-
    e[l],y*(n[l]+y*(e[l]+y*f[l]))};return function(a){for(var b=a,B=0,z;14>++B;){z=y(b,0)-a;if(0.001>Math.abs(z))break;b-=z/(n[0]+b*(2*e[0]+3*f[0]*b))}return y(b,1)}};e.easing[a]=function(a,e,j,y,D){return y*n([b[0],b[1]],[b[2],b[3]])(e/D)+j}}return a}});var n="ontouchstart"in document,y=navigator.userAgent.toLowerCase(),ya=y.match(/(iphone|ipod|ipad|iemobile|windows ce|netfront|playstation|midp|up\.browser|symbian|nintendo|wii)/),y=y.match(/chrome/),ob=e.browser.mozilla,ta=Ra.csstransforms&&Ra.csstransitions&&
    !y&&!ob,Wa=e.browser.msie,eb=Wa&&"6.0"==e.browser.version,Ab="CSS1Compat"!=document.compatMode&&Wa,y=new Image,Ya=!0;y.onerror=function(){if(1!=this.width||1!=this.height)Ya=!1};y.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";var Da=300,$a=e.bez([0.1,0,0.25,1]),P=333,b="fotorama",ba=e(window),Ca=e(document),kb,Sa,D=[["width","string",null],["height","string",null],["aspectRatio","number",null],["touchStyle","boolean",!0],["click","boolean",null],["pseudoClick",
  "boolean",!0],["loop","boolean",!1],["autoplay","boolean-number",!1],["stopAutoplayOnAction","boolean",!0],["transitionDuration","number",P],["background","string",null],["backgroundColor","string",null],["margin","number",5],["minPadding","number",10],["alwaysPadding","boolean",!1],["zoomToFit","boolean",!0],["cropToFit","boolean",!1],["flexible","boolean",!1],["fitToWindowHeight","boolean",!1],["fullscreen","boolean",!1],["fullscreenIcon","boolean",!1],["vertical","boolean",!1],["arrows","boolean",
  !0],["arrowsColor","string",null],["arrowPrev","string",null],["arrowNext","string",null],["nav","string",null],["thumbs","boolean",!0],["navPosition","string",null],["thumbsOnTop","boolean",!1],["thumbsOnRight","boolean",!1],["navBackground","string",null],["thumbsBackgroundColor","string",null],["dotColor","string",null],["thumbColor","string",null],["thumbsPreview","boolean",!0],["thumbSize","number",null],["thumbMargin","number",5],["thumbBorderWidth","number",3],["thumbBorderColor","string",
  null],["caption","string",!1],["preload","number",3],["preloader","boolean","dark"],["shadows","boolean",!0],["data","array",null],["html","array",null],["hash","boolean",!1],["startImg","number",0],["onShowImg","function",null],["onClick","function",null],["onSlideStop","function",null],["detachSiblings","boolean",!0]],ra=["-webkit-","-moz-","-o-","-ms-",""];e.fn[b]=function(b){"undefined"==typeof fotoramaDefaults&&(fotoramaDefaults={});var a=e.extend(Ea(),e.extend({},fotoramaDefaults,b));this.each(function(){var b=
    e(this);b.data("ini")||Ta(b,a)});return this};e(function(){kb=e("html");Sa=e("body");e("."+b).each(function(){var f=e(this);f[b](Ea(f))})})})(jQuery);